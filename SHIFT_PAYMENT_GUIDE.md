# ЁЯХР Shift & Payment Method Setup Guide

## р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ъ 3 р╕Бр╕░ р╣Бр╕ер╕░р╣Бр╕вр╕Бр╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ/р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф

р╕гр╣Йр╕▓р╕Щ Juthazone р╕бр╕╡р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ 3 р╕Бр╕░р╕Хр╣Ир╕нр╕зр╕▒р╕Щ:

### ЁЯМЕ Shift 1: р╣Ар╕Кр╣Йр╕▓-р╣Ар╕вр╣Зр╕Щ (10:00 - 19:00)
- р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ: 10:00 AM - 7:00 PM
- р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓: 9 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З

### ЁЯМЩ Shift 2: р╣Ар╕вр╣Зр╕Щ-р╕Фр╕╢р╕Б (19:00 - 01:00)
- р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ: 7:00 PM - 1:00 AM
- р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓: 6 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З

### ЁЯМГ Shift 3: р╕Фр╕╢р╕Б-р╣Ар╕Кр╣Йр╕▓ (01:00 - 10:00)
- р╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ: 1:00 AM - 10:00 AM
- р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓: 9 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З

---

## ЁЯТ░ р╕гр╕░р╕Ър╕Ър╣Бр╕вр╕Бр╣Ар╕Зр╕┤р╕Щ (Payment Methods)

### 1. **р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ (Transfer)**
   - р╕вр╣Йр╕▓р╕вр╣Ар╕Зр╕┤р╕Щр╕Ьр╣Ир╕▓р╕Щр╕Ър╕▒р╕Нр╕Кр╕╡р╕Шр╕Щр╕▓р╕Др╕▓р╕г
   - р╕кр╕╖р╣Ир╕нр╕кр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ: р╣Вр╕нр╕Щр╕Хр╕гр╕З, Line Pay, PromptPay, etc.

### 2. **р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф (Cash)**
   - р╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф
   - р╕Хр╣Йр╕нр╕Зр╣Ар╕Бр╣Зр╕Ър╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╣Др╕зр╣Йр╕Чр╕╡р╣Ир╣Бр╕Др╕Кр╣Ар╕Кр╕╡р╕вр╕гр╣М

### 3. **р╕Бр╕▓р╕гр╣Бр╕вр╕Бр╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Ф**
   - Daily Summary р╕Ир╕░р╣Бр╕кр╕Фр╕З:
     - ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ (Transfer)
     - ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф (Cash)
     - ЁЯУК р╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ (Total)

---

## ЁЯУК Daily Summary Features

### **Mode 1: View by Date**
1. р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Фр╕╣
2. р╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕░ (Shift):
   - р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (All Shifts)
   - р╕Бр╕░р╣Ар╕Кр╣Йр╕▓-р╣Ар╕вр╣Зр╕Щ (10:00-19:00)
   - р╕Бр╕░р╣Ар╕вр╣Зр╕Щ-р╕Фр╕╢р╕Б (19:00-01:00)
   - р╕Бр╕░р╕Фр╕╢р╕Б-р╣Ар╕Кр╣Йр╕▓ (01:00-10:00)
3. р╕Фр╕╣р╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╣Бр╕вр╕Бр╕Хр╕▓р╕бр╕Бр╕░р╣Бр╕ер╕░р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ

### **Mode 2: View by Date Range**
1. р╣Ар╕ер╕╖р╕нр╕Б Date Range (р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ - р╕кр╕┤р╣Йр╕Щр╕кр╕╕р╕Ф)
2. р╕Фр╕╣р╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╕кр╕░р╕кр╕б (Computer Zone entries)

---

## тЬЕ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### Scenario: р╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╕зр╕▒р╕Щр╕Чр╕╡р╣И 12 р╕бр╕Бр╕гр╕▓р╕Др╕б 2026

```
ЁЯОо Game Zone:
  ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ: р╕┐5,280.00
  ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф: р╕┐1,240.00
  р╕гр╕зр╕б: р╕┐6,520.00

ЁЯТ╗ Computer Zone:
  ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ: р╕┐1,150.00  (3 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З @ р╕┐380)
  ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф: р╕┐340.00    (1 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З @ р╕┐340)
  р╕гр╕зр╕б: р╕┐1,490.00

ЁЯТ░ р╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ:
  ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ: р╕┐6,430.00
  ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф: р╕┐1,580.00
  ЁЯУК р╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф: р╕┐8,010.00
```

---

## ЁЯЧДя╕П Database Schema Updates

### `computer_zone_summary` Table
```sql
Column              Type              Description
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
id                  BIGINT            Primary Key (Auto)
summary_date        DATE              р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
hours               DECIMAL(10, 2)    р╕Ир╕│р╕Щр╕зр╕Щр╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З
transfer_amount     DECIMAL(10, 2)    р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ
cash_amount         DECIMAL(10, 2)    р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕кр╕Ф
total_cost          DECIMAL(10, 2)    р╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
description         TEXT              р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕
added_by            VARCHAR(255)      р╕Ьр╕╣р╣Йр╣Ар╕Юр╕┤р╣Ир╕б
created_at          TIMESTAMP         р╣Ар╕зр╕ер╕▓р╕кр╕гр╣Йр╕▓р╕З
updated_at          TIMESTAMP         р╣Ар╕зр╕ер╕▓р╣Бр╕Бр╣Йр╣Др╕В
```

### `customers_history` Table (Update)
```sql
Column              Type              Description
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
payment_method      VARCHAR(20)       'transfer' р╕лр╕гр╕╖р╕н 'cash'
                                      (New column - optional)
```

---

## ЁЯОп р╕зр╕┤р╕Шр╕╡р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕▓р╕вр╕Бр╕▓р╕г Computer Zone

### Input Fields:
```
тП▒я╕П р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З: 3
ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ: 1150
ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф: 340
ЁЯУЭ р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕: VIP Zone (optional)
```

### Output:
```
тЬЕ Total: р╕┐1,490.00 (р╕┐1,150 + р╕┐340)
```

---

## ЁЯУе Export to Excel

### р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Ир╕░р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф:
1. р╕Хр╕▓р╕гр╕▓р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (columns: #, р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З, р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ, р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф, р╕гр╕зр╕б, р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕, р╕Ьр╕╣р╣Йр╣Ар╕Юр╕┤р╣Ир╕б, р╕зр╕▒р╕Щр╕Чр╕╡р╣И)
2. р╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Ф:
   - Game Zone: р╣Вр╕нр╕Щ + р╕кр╕Ф
   - Computer Zone: р╣Вр╕нр╕Щ + р╕кр╕Ф
   - р╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ: р╣Вр╕нр╕Щ + р╕кр╕Ф + р╕гр╕зр╕б

### р╣Др╕Яр╕ер╣М Output:
```
daily-summary-2026-01-12.xlsx
```

---

## тЪЩя╕П Shift Selection Logic

р╕гр╕░р╕Ър╕Ър╕Ир╕░ auto-detect shift р╕Ир╕▓р╕Бр╣Ар╕зр╕ер╕▓р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:

```javascript
if (hour >= 10 && hour < 19) тЖТ Shift 1 (р╣Ар╕Кр╣Йр╕▓-р╣Ар╕вр╣Зр╕Щ)
if (hour >= 19 || hour < 1)  тЖТ Shift 2 (р╣Ар╕вр╣Зр╕Щ-р╕Фр╕╢р╕Б)
if (hour >= 1 && hour < 10)  тЖТ Shift 3 (р╕Фр╕╢р╕Б-р╣Ар╕Кр╣Йр╕▓)
```

---

## ЁЯУЭ Daily Auto-Summary (Future Feature)

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕г auto-summary р╕Хр╕нр╕Щ 00:00:00
- р╕Хр╣Йр╕нр╕Зр╕бр╕╡ Backend Job р╕лр╕гр╕╖р╕н Cron Job
- р╕Хр╕гр╕зр╕И timeframe: 00:00 - 23:59 р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕зр╕▒р╕Щ
- Summarize: Game Zone + Computer Zone
- Generate: Daily Report PDF/Excel

### Implementation (р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З):
```javascript
// Supabase Edge Functions (р╕Бр╕│р╕ер╕▒р╕Зр╕Юр╕▒р╕Тр╕Щр╕▓)
const dailySummaryJob = cron.schedule('0 0 * * *', () => {
  // 1. Get yesterday's data
  // 2. Calculate totals
  // 3. Generate report
  // 4. Send notification
})
```

---

## ЁЯФз Database Migration SQL

р╕Цр╣Йр╕▓р╕Др╕╕р╕Ур╣Ар╕Др╕вр╕кр╕гр╣Йр╕▓р╕З table р╣Ар╕Бр╣Ир╕▓:

```sql
-- Add new columns to existing table
ALTER TABLE public.computer_zone_summary
ADD COLUMN transfer_amount DECIMAL(10, 2) DEFAULT 0,
ADD COLUMN cash_amount DECIMAL(10, 2) DEFAULT 0,
ADD COLUMN total_cost DECIMAL(10, 2) DEFAULT 0;

-- Update existing data (if any)
UPDATE public.computer_zone_summary
SET 
  transfer_amount = cost,
  cash_amount = 0,
  total_cost = cost
WHERE transfer_amount IS NULL;

-- Add payment_method to customers_history (if exists)
ALTER TABLE public.customers_history
ADD COLUMN payment_method VARCHAR(20) DEFAULT 'transfer';
```

---

## ЁЯЪА Testing Checklist

- [ ] тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕ер╕╖р╕нр╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Др╕Фр╣Й
- [ ] тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕ер╕╖р╕нр╕Б Shift р╣Др╕Фр╣Й
- [ ] тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕▓р╕вр╕Бр╕▓р╕г Computer Zone р╣Др╕Фр╣Й
- [ ] тЬЕ р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ/р╕кр╕Ф р╕Др╕│р╕Щр╕зр╕Ур╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- [ ] тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Фр╣Й
- [ ] тЬЕ р╕кр╕▓р╕бр╕▓р╕гр╕Ц Export Excel р╣Др╕Фр╣Й
- [ ] тЬЕ р╕Вр╣Йр╕нр╕бр╕╣р╕е Game Zone р╣Бр╕кр╕Фр╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- [ ] тЬЕ р╕Вр╣Йр╕нр╕бр╕╣р╕е Computer Zone р╣Бр╕кр╕Фр╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- [ ] тЬЕ Grand Total р╕Др╕│р╕Щр╕зр╕Ур╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З (р╣Вр╕нр╕Щ + р╕кр╕Ф)

---

## ЁЯТб Tips

1. **р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╕гр╕▓р╕вр╕Бр╕░:**
   - р╣Ар╕ер╕╖р╕нр╕Б Shift р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
   - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕░ filter р╕Хр╕▓р╕бр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Ър╕▒р╕Щр╕Чр╕╢р╕Б

2. **р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕гр╕╕р╕Ыр╕вр╕нр╕Фр╕гр╕▓р╕вр╕зр╕▒р╕Щ:**
   - р╣Ар╕ер╕╖р╕нр╕Б "р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (All Shifts)"
   - р╕Ир╕░р╣Ар╕лр╣Зр╕Щр╕вр╕нр╕Фр╕гр╕зр╕бр╕Вр╕нр╕З 3 р╕Бр╕░

3. **р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ:**
   - р╕Фр╕╣ "ЁЯТ╕ р╣Ар╕Зр╕┤р╕Щр╣Вр╕нр╕Щ" column
   - р╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╕Хр╣Йр╕нр╕Зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Вр╣Йр╕▓р╕Ър╕▒р╕Нр╕Кр╕╡

4. **р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕Зр╕┤р╕Щр╕кр╕Ф:**
   - р╕Фр╕╣ "ЁЯкЩ р╣Ар╕Зр╕┤р╕Щр╕кр╕Ф" column
   - р╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╕Хр╣Йр╕нр╕Зр╣Ар╕Бр╣Зр╕Ър╣Др╕зр╣Йр╕Чр╕╡р╣Ир╣Бр╕Др╕Кр╣Ар╕Кр╕╡р╕вр╕гр╣М

---

## ЁЯУЮ Troubleshooting

### тЭМ р╕вр╕нр╕Ф Game Zone р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕ер╕╣р╕Бр╕Др╣Йр╕▓ + р╕Ир╣Ир╕▓р╕вр╣Ар╕Зр╕┤р╕Щр╣Бр╕ер╣Йр╕з
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `customers_history` table

### тЭМ Shift Selector р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Browser Console р╕кр╕│р╕лр╕гр╕▒р╕Ъ errors
- р╕Чр╕│р╕Бр╕▓р╕г Refresh Page

### тЭМ Export Excel р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Browser permission
- р╕ер╕нр╕Зр╣Гр╕Кр╣Йр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣Мр╕нр╕╖р╣Ир╕Щ

### тЭМ р╕вр╕нр╕Ф Transfer/Cash р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Гр╕кр╣Ир╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Decimal points
